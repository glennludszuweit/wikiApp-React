(this.webpackJsonpfbpw=this.webpackJsonpfbpw||[]).push([[0],{103:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(39),c=a.n(r),o=a(3),i=a(1),s=Object(n.createContext)(),u=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(i.a)(a,2),c=r[0],o=r[1],u=Object(n.useState)(-1),d=Object(i.a)(u,2),m=d[0],f=d[1];return l.a.createElement(s.Provider,{value:{toggleAside:c,setToggleAside:o,onToggleAside:function(){o(!c)},selected:m,setSelected:f,onSelectedHighLight:function(e){return function(){return f(e)}}}},t)},d=a(40),m=a.n(d),f=a(41),b=a.n(f),E=function(){var e=Object(n.useContext)(s).onToggleAside;return l.a.createElement("div",null,l.a.createElement("div",{className:"header"},l.a.createElement("img",{className:"toggle",src:m.a,alt:"menu",onClick:e}),l.a.createElement(o.b,{to:"/"},l.a.createElement("img",{src:b.a,alt:"logo"})),l.a.createElement(o.b,{to:"/add"},l.a.createElement("i",{className:"fas fa-plus",id:"add-button"}))))},p=a(45),g=JSON.parse(localStorage.getItem("players"))?JSON.parse(localStorage.getItem("players")):[],v=function(e,t){switch(t.type){case"ADD_PLAYER":return[t.payload].concat(Object(p.a)(e));case"EDIT_PLAYER":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"REMOVE_PLAYER":return e.filter((function(e){return e.id!==t.payload}));default:return e}},h=Object(n.createContext)(g),O=function(e){var t=e.children,a=Object(n.useReducer)(v,g),r=Object(i.a)(a,2),c=r[0],o=r[1];Object(n.useEffect)((function(){return localStorage.setItem("players",JSON.stringify(c))}),[c]);return l.a.createElement(h.Provider,{value:{state:c,addPlayer:function(e){o({type:"ADD_PLAYER",payload:e})},editPlayer:function(e){o({type:"EDIT_PLAYER",payload:e})},removePlayer:function(e){o({type:"REMOVE_PLAYER",payload:e})}}},t)},j=Object(n.createContext)(),y=function(e){var t=e.children,a=Object(n.useContext)(h).state,r=Object(n.useState)(""),c=Object(i.a)(r,2),o=c[0],s=c[1],u=Object(n.useState)(a),d=Object(i.a)(u,2),m=d[0],f=d[1];return Object(n.useEffect)((function(){var e=a.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())}));f(e)}),[a,o]),l.a.createElement(j.Provider,{value:{searchValue:o,searchResults:m,onSearch:function(e){s(e.target.value)}}},t)},w=function(){var e=Object(n.useContext)(j).searchResults,t=Object(n.useContext)(s),a=t.selected,r=t.onSelectedHighLight;return l.a.createElement("ul",{className:"names"},e.map((function(e,t){return l.a.createElement(o.b,{to:"/".concat(e.slug),key:t},l.a.createElement("li",{className:a===t?"name list-highlight":"name",onClick:r(t)},e.name))})))},C=function(){var e=Object(n.useContext)(j),t=e.searchValue,a=e.onSearch;return l.a.createElement("div",{className:"search-container"},l.a.createElement("input",{type:"search",id:"search",placeholder:"search player",autoComplete:"off",value:t,onChange:a}))},k=function(){return Object(n.useContext)(s).toggleAside?l.a.createElement("div",{className:"side-bar"},l.a.createElement(C,null),l.a.createElement(w,null)):null},A=a(43),x=a.n(A),N=function(){return l.a.createElement("div",{className:"home"},l.a.createElement("h1",null,"Football Players Wikipedia"),l.a.createElement("img",{src:x.a,alt:"Football Players"}))},S=a(44),P=a.n(S),L=a(2),R=Object(n.createContext)(),I=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(i.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),d=u[0],m=u[1],f=Object(n.useState)("/"),b=Object(i.a)(f,2),E=b[0],p=b[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),h=v[0],O=v[1],j=Object(n.useState)(""),y=Object(i.a)(j,2),w=y[0],C=y[1];return l.a.createElement(R.Provider,{value:{close:function(){o(!1),m(!1)},addAlert:c,onAddAlert:function(){O("Player already exist. Update instead?"),C("Update Player"),o(!c)},deleteAlert:d,onDeleteAlert:function(){O("Click proceed to delete player."),C("Proceed"),m(!d)},alertMessage:h,alertButton:w,alertLink:E,setAlertLink:p}},t)},D=function(){var e=Object(n.useContext)(R),t=e.onDeleteAlert,a=e.setAlertLink,r=Object(n.useContext)(h).state,c=Object(L.f)().slug,i=r.findIndex((function(e){return e.slug===c})),s=r[i];return l.a.createElement("div",null,l.a.createElement("div",{className:"content-heading"},l.a.createElement("h2",{className:"player-name"},s.name),l.a.createElement("div",{className:"icons"},l.a.createElement(o.b,{to:"/edit/".concat(s.slug)},l.a.createElement("i",{className:"fas fa-edit edit-button"})),l.a.createElement("i",{className:"fas fa-trash delete",onClick:function(){a(s.id),t()}}))),l.a.createElement("div",{className:"player-info"},P()(s.description)))},M=a(105),U=a(8),T=a.n(U),W=a(12),B=a.n(W),Y=Object(n.createContext)(),_=function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(i.a)(a,2),c=r[0],o=r[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),d=u[0],m=u[1];return l.a.createElement(Y.Provider,{value:{close:function(){o(!1)},message:d,displayMessage:c,onDisplayMessage:function(e){m(e),o(!c),setTimeout((function(){o(!1)}),2e3)}}},t)},J=function(){var e=Object(n.useContext)(h),t=e.state,a=e.addPlayer,r=Object(n.useContext)(R),c=r.onAddAlert,s=r.setAlertLink,u=Object(n.useContext)(Y).onDisplayMessage,d=Object(n.useState)(),m=Object(i.a)(d,2),f=m[0],b=m[1],E=Object(n.useRef)(null);return l.a.createElement("div",null,l.a.createElement("h1",null,"Add Player"),l.a.createElement("form",null,l.a.createElement("input",{id:"name",type:"text",placeholder:"players name",ref:E,required:!0}),l.a.createElement(T.a,{value:f,options:{height:350,dialogsInBody:!0,toolbar:[["style",["style"]],["font",["bold","underline","clear","color"]],["fontname",["fontname"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]]]},onChange:function(e){b(e)},onImageUpload:function(e){var t=Object(i.a)(e,1)[0],a=new FileReader;a.onloadend=function(){return T.a.insertImage(a.result)},a.readAsDataURL(t)}}),l.a.createElement("div",{className:"buttons"},l.a.createElement(o.b,{to:"/"},l.a.createElement("button",null,"Cancel")),l.a.createElement(o.b,{to:"/",onClick:function(){var e={};e.id=Object(M.a)(),e.name=E.current.value,e.slug=B()(e.name),e.description=f,t.every((function(t){return t.name.toLowerCase()!==e.name.toLowerCase()}))?(a(e),u("Player added!")):(s(B()(E.current.value)),c())}},l.a.createElement("button",null,"Submit")))))},V=function(){var e=Object(n.useContext)(Y).onDisplayMessage,t=Object(n.useContext)(h),a=t.state,r=t.editPlayer,c=Object(L.f)().slug,s=a.findIndex((function(e){return e.slug===c})),u=a[s],d=Object(n.useState)(u.description),m=Object(i.a)(d,2),f=m[0],b=m[1],E=Object(n.useRef)(null);return l.a.createElement("div",null,l.a.createElement("h1",null,"Edit Player"),l.a.createElement("form",null,l.a.createElement("input",{id:"name",type:"text",placeholder:"players name",defaultValue:u.name,ref:E}),l.a.createElement(T.a,{onInit:function(){document.querySelector(".note-editable").innerHTML=Object.values({description:f})},options:{height:350,dialogsInBody:!0,toolbar:[["style",["style"]],["font",["bold","underline","clear","color"]],["fontname",["fontname"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]]]},onChange:function(e){b(e)},onImageUpload:function(e){var t=Object(i.a)(e,1)[0],a=new FileReader;a.onloadend=function(){return T.a.insertImage(a.result)},a.readAsDataURL(t)}}),l.a.createElement("div",{className:"buttons"},l.a.createElement(o.b,{to:"/".concat(u.slug)},l.a.createElement("button",null,"Cancel")),l.a.createElement(o.b,{to:"/".concat(u.slug),onClick:function(){u.name=E.current.value,u.slug=B()(u.name),u.description=f,r(u),e("Player updated!")}},l.a.createElement("button",null,"Update")))))},F=function(){return l.a.createElement("div",{className:"content"},l.a.createElement(L.c,null,l.a.createElement(L.a,{exact:!0,path:"/",component:N}),l.a.createElement(L.a,{path:"/add",component:J}),l.a.createElement(L.a,{path:"/edit/:slug",component:V}),l.a.createElement(L.a,{path:"/:slug",component:D})))},H=function(){var e=Object(n.useContext)(h).removePlayer,t=Object(n.useContext)(R),a=t.close,r=t.addAlert,c=t.onAddAlert,i=t.deleteAlert,s=t.onDeleteAlert,u=t.alertMessage,d=t.alertButton,m=t.alertLink;return r?l.a.createElement("div",{className:"alert-modal"},l.a.createElement("div",{className:"close-alert"},l.a.createElement("small",{onClick:function(){return a()}},"X")),l.a.createElement("p",null,u),l.a.createElement("hr",null),l.a.createElement("div",{className:"alert-btn"},l.a.createElement(o.b,{to:"/".concat(m)},l.a.createElement("button",{onClick:function(){return c()}},d)))):i?l.a.createElement("div",{className:"alert-modal"},l.a.createElement("div",{className:"close-alert"},l.a.createElement("small",{onClick:function(){return a()}},"X")),l.a.createElement("p",null,u),l.a.createElement("hr",null),l.a.createElement("div",{className:"alert-btn"},l.a.createElement(o.b,{to:"/"},l.a.createElement("button",{onClick:function(){e(m),s()}},d)))):null},X=function(){var e=Object(n.useContext)(Y),t=e.close,a=e.message;return e.displayMessage?l.a.createElement("div",{className:"message-modal"},l.a.createElement("div",{className:"message"},a),l.a.createElement("div",{className:"close-message"},l.a.createElement("small",{onClick:function(){return t()}},"X"))):null},q=(a(97),function(){return l.a.createElement(O,null,l.a.createElement(_,null,l.a.createElement(I,null,l.a.createElement(y,null,l.a.createElement(u,null,l.a.createElement(X,null),l.a.createElement(H,null),l.a.createElement(E,null),l.a.createElement("div",{className:"main"},l.a.createElement(k,null),l.a.createElement(F,null)))))))}),$=a(6),Q=a.n($),z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(98),a(99),a(100),a(101),a(102);window.$=window.jQuery=Q.a,c.a.render(l.a.createElement(o.a,null,l.a.createElement(q,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reactwikiapp",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reactwikiapp","/service-worker.js");z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):G(t,e)}))}}()},40:function(e,t,a){e.exports=a.p+"static/media/ball.63bb13ca.png"},41:function(e,t,a){e.exports=a.p+"static/media/logo.dfd7f090.png"},43:function(e,t,a){e.exports=a.p+"static/media/home.e09f37c5.jpg"},46:function(e,t,a){e.exports=a(103)},79:function(e,t){},97:function(e,t,a){}},[[46,1,2]]]);
//# sourceMappingURL=main.34446b6e.chunk.js.map